ovpnclient(){

# versão = 3.6

clear

source cert-generator
source ovpn.d/ovpn.cfg


# VALIDANDO SE ESTÁ COM USUÁRIO ROOT
if [ $(id -u) == 0 ]; then

# START SCRIPT
echo "Seja Bem vindo ao Instalador do OPENVPN

Por favor insira o dados de conexão do OVPN:
"

echo -n "IP do Servidor: "
read iplocal

#########################################################

if [ -e $OVPN ];then
	echo ".:Pacote do OPENVPN já instalado:."

	sleep 3

else
	echo ".:Pacote OPENVPN não instalado:.
	exit 4
	
# TODO - Criar validação do tipo do sistema operacional
# 	 e criar método de instalação automático

fi

# GERAR CERTIFICADO

cert-generator

# ARQUIVO SERVER.CONF

server-generator

# Configurando serviço do OpenVPN para iniciar junto com o Windows iniciando o serviço

$(systemctl enable openvpn\@vpnusers)
[[ $? == 1 ]]&& echo "Serviço não iniciado com o SO"

$(systemctl start openvpn\@vpnusers)
[[ $? == 1 ]]&& echo "Serviço não iniciado com sucesso"

final="0"

# VALIDAÇÃO DO USUÁRIO ROOT
else
		echo "
		USUÁRIO SEM PERMISSÃO.
	
	EXECUTE COM UM USUARIO PRIVILEGIADO
		"
sleep 3

fi # Finalizando Script de instalação

# FIM DO SCRIPT
}
